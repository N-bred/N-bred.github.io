window.addEventListener('load',function(){const requestToApi=async url=>{const request=await fetch(url);const response=await request.json();return response};(function loadUserInfo(){const description=document.getElementById('description');const profileImg=document.getElementById('profile-img');const name=document.getElementById('name');const userApi='https://api.github.com/users/N-bred';const requestToUserApi=requestToApi(userApi);requestToUserApi.then(data=>{description.innerText=data.bio;profileImg.src=data.avatar_url;name.innerText=data.name}).catch(err=>console.error(err))})();(function loadUserRepos(){const cardsContainerElement=document.querySelector('.cards-container');const paginationList=document.querySelector('.pagination__list');const mainElement=document.querySelector('.main');const reposApi='https://api.github.com/users/N-bred/repos?sort=pushed?direction=asc';const requestToReposApi=requestToApi(reposApi);const formatData=string=>string.replace(/\-/g,' ').replace(/\_/g,' ');const capitalize=function(string){const strArr=string.toLowerCase().split(' ');const modified=strArr.map(str=>str.split('')[0].toUpperCase()+str.split('').join('').slice(1));return modified.join(' ')};const createCard=function(title,description,github,page,img='./fox.jpg'){const template=`
  <div class="card">
        
            <div class="card__img">
              <a href="https://n-bred.github.io/${page}/" class="card__img-link" target="_blank">
                <img src="${img}" alt="${capitalize(formatData(title))}" />
              </a>
            </div>


            <div class="card__title">
              <h3 class="card__title-text">${formatData(title)}</h3>
            </div>

            <div class="card__description">
              <p class="card__description-text">
                ${description}
              </p>
            </div>

            <div class="card__btns">
              <a href="${github}" class="card__btn card__btn--white" target="_blank">See on Github</a>
              <a href="https://n-bred.github.io/${page}/" class="card__btn  card__btn--dark" target="_blank">See Demo</a>
            </div>
          </div>

     
  `;return template};const render=function(data,currentPage=1,limitPerPage=6){const projects=data.filter(project=>project.has_pages);cardsContainerElement.innerHTML='';paginationList.innerHTML='';const pagination=[];const eachProject=function(datas){const limit=limitPerPage;let curPage=currentPage;const indexOfLastPost=curPage*limit;const indexOfFirstPost=indexOfLastPost-limit;const currentPosts=datas.slice(indexOfFirstPost,indexOfLastPost);for(let i=1;i<=Math.ceil(datas.length/limit);i++){pagination.push(i)}
currentPosts.forEach(project=>{const{description,name,html_url}=project;const imgUrl=`https://github.com/N-bred/${name}/blob/master/frontCard.png?raw=true`;const repoEl=createCard(name,description,html_url,name,imgUrl);cardsContainerElement.innerHTML+=repoEl})};eachProject(projects);pagination.forEach(page=>{const li=document.createElement('li');const a=document.createElement('a');a.setAttribute('href','#');a.innerText=page;a.addEventListener('click',function(e){e.preventDefault();if(window.innerWidth<=600){window.scrollTo({top:mainElement.offsetTop,left:0,behavior:'smooth'})}
render(projects,this.innerText,limitPerPage)});li.appendChild(a);paginationList.appendChild(li)})};requestToReposApi.then(data=>{if(window.innerWidth<=600){render(data,1,3)}else{render(data,1,6)}}).catch(err=>console.log(err))})();(function loadStatic(){const loader=document.querySelector('.loader');setTimeout(()=>{loader.classList.add('loader-done');document.body.classList.remove('on-load');window.scrollTo({top:0})},2000);const btnProjects=document.getElementById('btn-projects');const mainElement=document.querySelector('.main');btnProjects.addEventListener('click',e=>{e.preventDefault();window.scrollTo({top:mainElement.offsetTop,behavior:'smooth'})});const date=new Date();const year=document.getElementById('year');year.innerText=date.getFullYear()})()})